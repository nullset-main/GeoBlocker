<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>GeoBlocker Options</title>
    <style>
      body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 20px; }
      label { display:block; margin-top:12px; }
      input, textarea { width:100%; padding:8px; margin-top:6px; }
      button { margin-top:12px; padding:8px 12px; }
    </style>
  </head>
  <body>
    <h1>GeoBlocker Settings</h1>
    <label>Google API Key (YouTube Data API v3)
      <input id="apiKey" placeholder="Enter API key" />
    </label>
    <fieldset style="margin-top:12px;padding:10px;border:1px solid #ddd">
      <legend style="font-weight:bold">Proxy (optional)</legend>
      <p style="margin:0 0 8px;color:#444">If you (or the extension author) run a server proxy that performs YouTube API requests, enter its base URL here and enable the checkbox. Using a proxy means users do not need an API key.</p>
      <label style="display:block;margin-top:6px">Proxy URL
        <input id="proxyUrl" placeholder="https://my-proxy.example.com" />
      </label>
      <label style="display:flex;align-items:center;gap:8px;margin-top:6px"><input type="checkbox" id="useProxy" /> Use proxy for API requests</label>
    </fieldset>
    <fieldset style="margin-top:12px;padding:10px;border:1px solid #ddd">
      <legend style="font-weight:bold">Playlist blocking</legend>
      <label style="display:block;margin-top:6px">Mode
        <select id="playlistMode">
          <option value="owner">Block only if playlist owner is blocked (fast)</option>
          <option value="any_item">Block if any sampled playlist item is blocked (aggressive)</option>
          <option value="majority">Block if majority of sampled items are blocked (balanced)</option>
          <option value="owner_or_majority">Block if owner is blocked OR majority of sampled items are blocked (recommended)</option>
        </select>
      </label>
      <label style="display:block;margin-top:6px">Sample size (number of playlist items to check)
        <input id="playlistSampleSize" type="number" min="1" max="50" value="20" />
      </label>
    </fieldset>
    <label>Blocked countries (comma-separated ISO 3166-1 alpha-2 codes, e.g. CN, RU, IR)
      <input id="blockedCountries" placeholder="e.g. CN, RU" />
    </label>

    <label style="margin-top:10px;display:flex;align-items:center;gap:10px;">
      <input type="checkbox" id="blockNoCountry" />
      <span>Block channels that do not set a country</span>
    </label>
    <div>
      <button id="saveBtn">Save</button>
      <span id="status" style="margin-left:12px;color:green"></span>
    </div>
    <p style="margin-top:18px;color:#444;">Notes: You must enable the YouTube Data API v3 in your Google Cloud project and supply an API key. The extension queries channel country from channel snippet and compares to the list above.</p>
    <script src="options.js"></script>
  </body>
</html>
